# Cloudtrail Grafana Dashboard


## Installation and Usage instructions
For those familiar with AWS. Lambda code is in **/lambda-code/** and you'll need to setup an event trigger on your CloudTrail bucket to call the Lambda function. Then visit the Grafana interface and import the **/dashboard/grafana-dashboard-export.json** file which imports the dashboard and all the required searches/virtualizations

### Part 1: Deploying
1. Git clone the repo or download the whole thing from the release page

2. Create Lambda function using **/lambda-code/index.js** file with following environment variables
  * elasticsearchurl	
  * snsTopicArn	
  
3. Go to S3 cloudtrail bucket where all the events are generated by cloudtrail
  * Browse to your bucket and select **Properties** and **events**
  
  * Create a new event filter on **put** operations and select your lambda function from the drop down!
 
4. Now cloudtrail logs written to S3 events should be starting to be processed by the cloudtrail lambda function and will start pushing those into elasticsearch. You can check by looking at the ElasticSearch index's. You should see an index titled logstash-YYYY-MM-DD

 
